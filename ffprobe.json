{
  "title": "JSON schema for FFmpeg's ffprobe tool json output",
  "$schema": "http://json-schema.org/draft-07/schema",
  "type": "object",
  "properties": {
    "program_version": {
      "$ref": "#/definitions/program_version"
    },
    "library_versions": {
      "$ref": "#/definitions/library_versions"
    },
    "pixel_formats": {
      "$ref": "#/definitions/pixel_formats"
    },
    "packets": {
      "$ref": "#/definitions/packets"
    },
    "frames": {
      "$ref": "#/definitions/frames"
    },
    "packets_and_frames": {
      "$ref": "#/definitions/packets_and_frames"
    },
    "programs": {
      "$ref": "#/definitions/programs"
    },
    "streams": {
      "$ref": "#/definitions/streams"
    }
  },
  "definitions": {
    "program_version": {
      "type": "object",
      "properties": {
        "version": {
          "type": "string"
        },
        "copyright": {
          "type": "string"
        },
        "compiler_ident": {
          "type": "string"
        },
        "configuration": {
          "type": "string"
        }
      }
    },
    "library_versions": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "major": {
            "type": "integer"
          },
          "minor": {
            "type": "integer"
          },
          "micro": {
            "type": "integer"
          },
          "version": {
            "type": "integer"
          },
          "ident": {
            "type": "string"
          }
        }
      }
    },
    "pixel_formats": {
      "$comment": "TODO",
      "type": "array"
    },
    "packets": {
      "$comment": "TODO",
      "type": "array"
    },
    "packet": {
      "type": "object",
      "properties": {
        "type": {
          "const": "packet"
        },
        "codec_type": {
          "type": "string"
        },
        "stream_index": {
          "type": "integer"
        },
        "pts": {
          "type": "integer"
        },
        "pts_time": {
          "type": "string"
        },
        "dts": {
          "type": "integer"
        },
        "dts_time": {
          "type": "string"
        },
        "duration": {
          "type": "integer"
        },
        "duration_time": {
          "type": "string"
        },
        "convergence_duration": {
          "type": "integer"
        },
        "convergence_duration_time": {
          "type": "string"
        },
        "size": {
          "type": "string"
        },
        "pos": {
          "type": "string"
        },
        "flags": {
          "type": "string"
        }
      }
    },
    "frames": {
      "$comment": "TODO",
      "type": "array"
    },
    "frame": {
      "type": "object",
      "properties": {
        "type": {
          "const": "frame"
        },
        "media_type": {
          "type": "string"
        },
        "stream_index": {
          "type": "integer"
        },
        "key_frame": {
          "type": "integer"
        },
        "pkt_pts": {
          "type": "integer"
        },
        "pkt_pts_time": {
          "type": "string"
        },
        "pkt_dts": {
          "type": "integer"
        },
        "pkt_dts_time": {
          "type": "string"
        },
        "best_effort_timestamp": {
          "type": "integer"
        },
        "best_effort_timestamp_time": {
          "type": "string"
        },
        "pkt_duration": {
          "type": "integer"
        },
        "pkt_duration_time": {
          "type": "string"
        },
        "pkt_pos": {
          "type": "string"
        },
        "pkt_size": {
          "type": "string"
        },
        "sample_fmt": {
          "type": "string"
        },
        "nb_samples": {
          "type": "integer"
        },
        "channels": {
          "type": "integer"
        },
        "channel_layout": {
          "type": "integer"
        }
      }
    },
    "packets_and_frames": {
      "$comment": "TODO",
      "type": "array"
    },
    "programs": {
      "$comment": "TODO",
      "type": "array"
    },
    "streams": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "index": {
            "type": "integer"
          },
          "codec_name": {
            "type": "string"
          },
          "codec_long_name": {
            "type": "string"
          },
          "profile": {
            "type": "string"
          },
          "codec_type": {
            "type": "string"
          },
          "codec_time_base": {
            "type": "string"
          },
          "codec_tag_string": {
            "type": "string"
          },
          "codec_tag": {
            "type": "string"
          },
          "width": {
            "type": "number"
          },
          "height": {
            "type": "number"
          },
          "coded_width": {
            "type": "number"
          },
          "coded_height": {
            "type": "number"
          },
          "closed_captions": {
            "type": "number"
          },
          "has_b_frames": {
            "type": "number"
          },
          "sample_aspect_ratio": {
            "type": "string"
          },
          "display_aspect_ratio": {
            "type": "string"
          },
          "pix_fmt": {
            "type": "string"
          },
          "level": {
            "type": "number"
          },
          "color_range": {
            "type": "string"
          },
          "color_space": {
            "type": "string"
          },
          "color_transfer": {
            "type": "string"
          },
          "color_primaries": {
            "type": "string"
          },
          "chroma_location": {
            "type": "string"
          },
          "field_order": {
            "type": "string"
          },
          "timecode": {
            "type": "string"
          },
          "refs": {
            "type": "number"
          },
          "is_avc": {
            "type": "string"
          },
          "nal_length_size": {
            "type": "number"
          },
          "id": {
            "type": "string"
          },
          "r_frame_rate": {
            "type": "string"
          },
          "avg_frame_rate": {
            "type": "string"
          },
          "time_base": {
            "type": "string"
          },
          "start_pts": {
            "type": "number"
          },
          "start_time": {
            "type": "string"
          },
          "duration_ts": {
            "type": "string"
          },
          "duration": {
            "type": "string"
          },
          "bit_rate": {
            "type": "string"
          },
          "max_bit_rate": {
            "type": "string"
          },
          "bits_per_raw_sample": {
            "type": "string"
          },
          "nb_frames": {
            "type": "number"
          },
          "nb_read_frames": {
            "type": "string"
          },
          "nb_read_packets": {
            "type": "string"
          },
          "disposition": {
            "$ref": "#/definitions/disposition"
          }
        }
      }
    },
    "chapters": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "time_base": {
            "type": "string"
          },
          "start": {
            "type": "integer"
          },
          "start_time": {
            "type": "string"
          },
          "end": {
            "type": "integer"
          },
          "end_time": {
            "type": "string"
          },
          "tags": {
            "type": "object"
          }
        }
      }
    },
    "format": {
      "type": "object",
      "properties": {
        "filename": {
          "type": "string"
        },
        "nb_streams": {
          "type": "integer"
        },
        "nb_programs": {
          "type": "integer"
        },
        "format_name": {
          "type": "string"
        },
        "format_long_name": {
          "type": "string"
        },
        "start_time": {
          "type": "string"
        },
        "duration": {
          "type": "string"
        },
        "size": {
          "type": "string"
        },
        "bit_rate": {
          "type": "string"
        },
        "probe_score": {
          "type": "number"
        },
        "tags": {
          "type": "object"
        }
      }
    },
    "disposition": {
      "type": "object",
      "properties": {
        "default": {
          "type": "number"
        },
        "dub": {
          "type": "number"
        },
        "original": {
          "type": "number"
        },
        "comment": {
          "type": "number"
        },
        "lyrics": {
          "type": "number"
        },
        "karaoke": {
          "type": "number"
        },
        "forced": {
          "type": "number"
        },
        "hearing_impaired": {
          "type": "number"
        },
        "visual_impaired": {
          "type": "number"
        },
        "clean_effects": {
          "type": "number"
        },
        "attached_pic": {
          "type": "number"
        },
        "timed_thumbnails": {
          "type": "number"
        }
      }
    }
  }
}
